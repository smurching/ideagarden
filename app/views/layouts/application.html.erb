<!DOCTYPE html>
<html>

<head>
  <title>Ideagarden</title>
  <%= stylesheet_link_tag "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
  
</head>

<body>
	<%if false%>
	<div id = "everything_div"></div>
	<%end%>
	<div id ='login_filter'></div>


  <div id='header'>
    <h1><%= link_to image_tag('logo.png', id: 'logo'), root_path %></h1>
    <div id='navLinks'>
      <% if logged_in? && registration_complete? %>
      	<%= link_to 'Welcome, '+current_user.profile.name, user_profiles_path(current_user.id)%> |
        <%= link_to 'New Idea Posting', new_idea_posting_path %> |
        <%= link_to "Logout", logout_path %> |
		<%= link_to "Pending Requests ("+number_of_requests.to_s+")", list_joinrequests_path, :id => "pending_requests"%> |		
		
		<% if false %>
		<%= "THIS BLOCK IS DISABLED AS OF NOW BECAUSE EMAIL CONFIRMATION + PASSWORD REST REQUESTS HAVEN'T BEEN INTEGRATED "%>
		<%= link_to 'Password Reset Request', show_pw_reset_path %> |
		<%end%>
		<%= link_to "Followed Users", show_following_path %> |
		<%= link_to "Followers", show_followers_path %> |
		<%= link_to 'Search Posts ', search_path %>
      	<%end%>
        
	  <% if logged_in? && registration_complete? == false %>
	  	 <% if current_user.profile == nil %>
	  	 	<%= link_to 'Complete Profile', new_user_profile_path(current_user.id) %> |
	  	 <%end%>

	  	 
	  	 <% unless current_user.confirmed == true %>
	  	 	<%= link_to 'Resend Confirmation Email', resend_user_confirmation_path%> |
	  	 <%end%>
	  	 <%= link_to "Logout", logout_path %> |
	  	 <%= link_to 'Search Posts ', search_path %>
	  <%end%> 

        
      <% if logged_in? == false %>
        <%= link_to "Login", login_path, :id => "login", :remote => true %> |         
        <%= link_to 'Register', new_user_path %> |
        <%= link_to 'Search Posts ', search_path %> |
        <%= link_to 'Forgot password?', new_pw_reset_path%>

      <% end %>
    </div>
  </div>

  <div id='wrapper'>

    <%= content_tag(:p, notice, :class => 'notice') if notice.present? %>
    <%= content_tag(:p, alert, :class => 'alert') if alert.present? %>

    <%= yield %>

  </div>

</body>
</html>